<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>vCard conform QR Code Generator</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css'>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/css/bootstrap.css'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Gloria+Hallelujah|Sedgwick+Ave|VT323'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Comfortaa|Poiret+One'>
<link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.0.8/css/all.css'><link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div class="container-fluid ">
		<div id="contentArea" class="">
			<!-- Centered Tabs -->
		<h1>vCard Conform QR Code Generator</h1>
		 <br>
		
		<!-- Nav tabs -->
		<ul class="nav nav-tabs" role="tablist">
		  <li class="nav-item">
		    <a class="nav-link active" data-toggle="tab" href="#singleQr" role="tab">Single QR Code by form</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" data-toggle="tab" id="navMultiQr" href="#multipleQr" role="tab">Multiple QR Codes from CSV file</a>
		  </li>
		</ul>

		<!-- Tab panes -->
		<div class="tab-content">
			<br>
			<div class="tab-pane active" id="singleQr" role="tabpanel">
				<div class="row" >
				  	<div class="col-xs-12 col-sm-6">
					    <div class="form-group col-xs-12 col-sm-12">
					      <label for="title" class="control-label">Title</label>
					      <input type="text" class="form-control" name="title" id="title" placeholder="Enter title e.g. Dr.">    
					    </div>
					    <div class="form-group col-xs-6 col-sm-12"> 
					      <label for="FirstN" class="control-label">First name</label>
					      <input type="text" class="form-control" name="FirstN" id="FirstN" placeholder="Enter First Name">
					    </div>
					    <div class="form-group col-xs-6 col-sm-12">  
					      <label for="LastN" class="control-label">Last name</label>
					      <input type="text" class="form-control" name="LastN" id="LastN" placeholder="Enter Last Name">
					    </div>
					    <div class="form-group col-xs-12 col-sm-12">
					      <label for="ORG" class="control-lable">Jobtitle</label>
					      <input type="text" class="form-control" name="TITLE" id="TITLE" placeholder="Jobtitle">
					    </div>
					    <div class="form-group col-xs-12 col-sm-12">
					      <label for="ORG" class="control-lable">Company</label>
					      <input type="text" class="form-control" name="ORG" id="ORG" placeholder="Company">
					    </div>
					    <div class="form-group col-xs-12 col-sm-12">
					      <label for="ORG" class="control-lable">Website</label>
					      <input type="text" class="form-control" name="URL" id="URL" placeholder="Website">
					    </div>
					    <div class="form-group col-xs-12 col-sm-12">
					      <label for="address" class="control-label">Address</label>
					      <input type="text" class="form-control" name="address_street" id="address_street" placeholder="Your street">
					    </div>
					    <div class="form-group col-xs-6 col-sm-12">
					      <input type="text" class="form-control" name="address_zip" id="address_zip" placeholder="Your zip code">
					    </div>
					    <div class="form-group col-xs-6 col-sm-12">
					      <input type="text" class="form-control" name="address_city" id="address_city" placeholder="Your city">
					    </div>
				    </div>
				    <div class="col-xs-12 col-sm-6">
				    	<div class="form-group col-xs-12 col-sm-12">
					      <label for="ORG" class="control-lable">Phone (landline)</label>
					      <input type="text" class="form-control" name="TEL;type=WORK" id="TEL;type=WORK" placeholder="Phone">
					    </div>
					    <div class="form-group col-xs-12 col-sm-12">
					      <label for="ORG" class="control-lable">Phone (mobile)</label>
					      <input type="text" class="form-control" name="TEL;type=CELL" id="TEL;type=CELL" placeholder="Cell">
					    </div>
					    <div class="col-xs-6 col-sm-12">
					      <label class="control-label" for="EMAIL;type=WORK">Email:</label>
					      <div class="control-group" id="EMAIL;type=WORK">
					        <div class="controls">
					          <div class="entry input-group form-group">
					            <span class="input-group-addon">@</span>
					            <input class="form-control" name="EMAIL;type=WORK" placeholder="add email" type="text">                  
					          </div>
					        </div>
					      </div>
					     <!--       
					      <label class="control-label" for="EMAIL;type=HOME">Email (private):</label>
					      <div class="control-group" id="EMAIL;type=HOME">
					        <div class="controls">
					          <div class="entry input-group form-group">
					            <span class="input-group-addon">@</span>
					            <input class="form-control" name="EMAIL;type=HOME" placeholder="add email" type="text">                  
					          </div>
					        </div>
					      </div>
					      -->			      
					    </div>
					    <br>
					    <div class="form-group col-xs-12 col-sm-12">
					    <label>Social profiles might not work on every device e.g. iOS 11 can't handle it</label>
					      <label for="ORG" class="control-lable">Twitter</label>
					      <input type="text" class="form-control" name="X-SOCIALPROFILE;type=twitter" id="X-SOCIALPROFILE;type=twitter:" placeholder="Twitter">
					    </div> 
					    <div class="form-group col-xs-12 col-sm-12">
					      <label for="ORG" class="control-lable">LinkedIn</label>
					      <input type="text" class="form-control" name="X-SOCIALPROFILE;type=linkedin" id="X-SOCIALPROFILE;type=linkedIn:" placeholder="LinkedIn">
					    </div> 			    
					</div>
				</div> <!--row-->
			    <br> 
			   	<button class="" id="createQR" type="submit">Create QR-Code</button>
			</div><!--lass="tab-pane" id="singleQr"-->
		 
			<div class="tab-pane" id="multipleQr" role="tabpanel">
			  	<div class="row" >
			  		<div class="col-xs-12 col-sm-12">
			  			<div class="input-area" id="input-local">							
							<div class="text-center">
								Choose one or more csv files to parse and generate QR codes.
								Please be aware of the mandatory formatting of the csv file.
								Sample files:<br>
								<br>
								<a href="example/example.csv"><i class="fas fa-download"></i> Example file</a>
							</div>
							<br>
							<br>
							<input type="file" id="files" multiple>
							
						</div>
			    	</div>		   
				</div> <!--row-->

			    <br> 
			   	<button class="" id="parseCreateQR" type="submit">Create and Download QR-Codes</button>      
			 </div> <!--lass="tab-pane" id="multipleQr"-->
		</div><!--class="tab-content"-->


 
		   <!--</form>-->
			<br>
			<br>

			<div class="hidden col-xs-6 col-sm-6" id="qrCode">   
			  <canvas id="qrcode-canvas" style="padding:1em; background-color:#E8E8E8"></canvas>
						<svg id="qrcode-svg" style="width:30em; height:30em; padding:1em; background-color:#E8E8E8">
							<rect width="100%" height="100%" fill="#FFFFFF" stroke-width="0"></rect>
							<path d="" fill="#000000" stroke-width="0"></path>
						</svg>
				<br>		
				<button type="button" class="btn btn-info" id="svgDownload" onclick="downloadSVG()">Download as SVG</button>
			</div>
			<br>

			<button type="button" class="btn btn-info" data-toggle="collapse" data-target="#expertSettings">Expert Settings</button>

			<div id="expertSettings" class="collapse">

				<div class="">
					<br>
					<strong>CSV parser settings:</strong>
					<label>
						<input type="checkbox" id="stream"> Stream
						<dfn>Results are delivered row by row to a step function. Use with large inputs that would crash the browser.</dfn>
					</label>

					<label>
						<input type="checkbox" id="worker"> Worker thread
						<dfn>Uses a separate thread so the web page doesn't lock up.</dfn>
					</label>

					<label>
						<input type="checkbox" id="header" checked> Header row
						<dfn>Keys data by field name rather than an array.</dfn>
					</label>

					<label>
						<input type="checkbox" id="dynamicTyping"> Dynamic typing
						<dfn>Turns numeric data into numbers and true/false into booleans.</dfn>
					</label>

					<label>
						<input type="checkbox" id="skipEmptyLines" checked> Skip empty lines
						<dfn>By default, empty lines are parsed; check to skip.</dfn>
					</label>
				</div>
				<br>
				<table class="noborder"  style="width:100%">
					<tbody>			
						<tr>
							<td><strong>QR Code settings:</strong></td>
							<td>
									
							</td>
						</tr>
						<tr>
							<td><strong>Error correction:</strong></td>
							<td>
								<input type="radio" name="errcorlvl" id="errcorlvl-low" onchange="redrawQrCode();" checked="checked"><label for="errcorlvl-low">Low</label>
								<input type="radio" name="errcorlvl" id="errcorlvl-medium" onchange="redrawQrCode();"><label for="errcorlvl-medium">Medium</label>
								<input type="radio" name="errcorlvl" id="errcorlvl-quartile" onchange="redrawQrCode();"><label for="errcorlvl-quartile">Quartile</label>
								<input type="radio" name="errcorlvl" id="errcorlvl-high" onchange="redrawQrCode();"><label for="errcorlvl-high">High</label>
							</td>
						</tr>
						<tr>
							<td>Output format:</td>
							<td>
								<input type="radio" name="output-format" id="output-format-bitmap" onchange="redrawQrCode();" checked="checked"><label for="output-format-bitmap">Bitmap</label>
								<input type="radio" name="output-format" id="output-format-vector" onchange="redrawQrCode();"><label for="output-format-vector">Vector</label>
							</td>
						</tr>
						<tr>
							<td>Border:</td>
							<td><input type="number" value="4" min="0" max="100" step="1" id="border-input" style="width:4em" oninput="redrawQrCode();"> modules</td>
						</tr>
						<tr id="scale-row">
							<td>Scale:</td>
							<td><input type="number" value="8" min="1" max="30" step="1" id="scale-input" style="width:4em" oninput="redrawQrCode();"> pixels per module</td>
						</tr>
						<tr>
							<td>Version range:</td>
							<td>Minimum = <input type="number" value="1" min="1" max="40" step="1" id="version-min-input" style="width:4em" oninput="handleVersionMinMax('min');">, maximum = <input type="number" value="40" min="1" max="40" step="1" id="version-max-input" style="width:4em" oninput="handleVersionMinMax('max');"></td>
						</tr>
						<tr>
							<td>Mask pattern:</td>
							<td><input type="number" value="-1" min="-1" max="7" step="1" id="mask-input" style="width:4em" oninput="redrawQrCode();"> (−1 for automatic, 0 to 7 for manual)</td>
						</tr>
						<tr>
							<td>Boost ECC:</td>
							<td><input type="checkbox" checked="checked" id="boost-ecc-input" onchange="redrawQrCode();"><label for="boost-ecc-input">Increase <abbr title="error-correcting code">ECC</abbr> level within same version</label></td>
						</tr>
						<tr id="vCard_text">
							<td>vCard code:</td>
							<td>
								<textarea id="vCard-output" readonly="readonly" style="width:100%; max-width:30em; height:10em; font-family:monospace"></textarea>
							</td>
						</tr>
						
					</tbody>
				</table>
			</div> <!--expertSetting-->

		</div> <!--contentArea-->
		  
		<footer class="footer ">
		  <p>based on Project HARUN PEHLİVAN QR Code generator library (JavaScript) and Papa Parse for CSV parsing</p>
		</footer>
	</div>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.3/js/tether.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
<script src='https://unpkg.com/popper.js@1.12.9/dist/umd/popper.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/js/bootstrap.min.js'></script>
<script src='https://codepen.io/I_see/pen/xYNJgv.js'></script><script  src="./script.js"></script>

</body>
</html>
